<html>
  <head>
    <title>WebRTC Demo</title>
    <script>
      navigator.getUserMedia || (navigator.getUserMedia = navigator.mozGetUserMedia || navigator.webkitGetUserMedia || navigator.msGetUserMedia);

      if (navigator.getUserMedia) {
        navigator.getUserMedia({
          video: true,
          audio: true
        }, success, error);
      } else {
        console.log("getUserMedia is not supported in this browser");
      }

      function success(stream) {
        console.log("We have a success");
        var video = document.getElementById("webcam");
        var videoSource;
        if (window.webkitURL) {
          videoSource = window.webkitURL.createObjectURL(stream);
          console.log(videoSource);
        } else {
          videoSource = stream;
        }
        
        video.autoplay = true;
        video.src = videoSource;
      }

      function error() {
        console.log("We have an error");
      }
    </script>
  </head>
  <body>
    <video id="webcam"></video>
  </body>
</html>